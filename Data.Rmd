---
title: "Data"
---

```{r setup, include = FALSE}
suppressMessages(library(tidyverse))
suppressMessages(library(dbplyr))
library(readxl)
```

# Introduction of the datasets

## Geo
Alzheimerâ€™s Disease Mortality by State: [CDC](https://www.cdc.gov/nchs/pressroom/sosmap/alzheimers_mortality/alzheimers_disease.htm)

Econ data by state: [Bureau of Economic Analysis](https://apps.bea.gov/iTable/?reqid=70&step=1&acrdn=2&_gl=1*14uawee*_ga*MzQ4ODY3MjA1LjE3MDEzMTIzMDc.*_ga_J4698JNNFT*MTcwMTMxMjMwNi4xLjEuMTcwMTMxMjM4OS4wLjAuMA..#eyJhcHBpZCI6NzAsInN0ZXBzIjpbMSwyOSwyNSwzMSwyNiwyNywzMF0sImRhdGEiOltbIlRhYmxlSWQiLCI2MDAiXSxbIk1ham9yX0FyZWEiLCIwIl0sWyJTdGF0ZSIsWyIwIl1dLFsiQXJlYSIsWyJYWCJdXSxbIlN0YXRpc3RpYyIsWyItMSJdXSxbIlVuaXRfb2ZfbWVhc3VyZSIsIkxldmVscyJdLFsiWWVhciIsWyItMSJdXSxbIlllYXJCZWdpbiIsIi0xIl0sWyJZZWFyX0VuZCIsIi0xIl1dfQ==)

Healthcare Expenditure: [Bureau of Economic Analysis](https://apps.bea.gov/iTable/?reqid=70&step=1&acrdn=2&_gl=1*14uawee*_ga*MzQ4ODY3MjA1LjE3MDEzMTIzMDc.*_ga_J4698JNNFT*MTcwMTMxMjMwNi4xLjEuMTcwMTMxMjM4OS4wLjAuMA..#eyJhcHBpZCI6NzAsInN0ZXBzIjpbMSwyOSwyNSwzMSwyNiwyNywzMF0sImRhdGEiOltbIlRhYmxlSWQiLCI1MjQiXSxbIk1ham9yX0FyZWEiLCIwIl0sWyJTdGF0ZSIsWyIwIl1dLFsiQXJlYSIsWyJYWCJdXSxbIlN0YXRpc3RpYyIsWyIxNiJdXSxbIlVuaXRfb2ZfbWVhc3VyZSIsIkxldmVscyJdLFsiWWVhciIsWyItMSJdXSxbIlllYXJCZWdpbiIsIi0xIl0sWyJZZWFyX0VuZCIsIi0xIl1dfQ==)

Education level: [Federal Reserve Economic Data](https://fred.stlouisfed.org/release/tables?rid=330&eid=391444&od=2018-01-01#)

```{r, message = FALSE, warning = FALSE}
death_rate = 
  read_csv("./Data/death_rate.csv") |>
  janitor::clean_names() |>
  rename(death_rate = rate) |>
  select(state, year, death_rate) |>
  filter(year >= 2018) |>
  arrange(state, year)

econ_data = 
  read_csv("./Data/econdata.csv") |>
  janitor::clean_names() |>
  select(geo_name, description, x2018:x2021) |>
  pivot_longer(
    x2018:x2021,
    names_to = "year",
    values_to = "value"
  ) |>
  pivot_wider(
    names_from = "description",
    values_from = "value"
  ) |>
  rename(state = geo_name) |>
  mutate(year = as.numeric(str_replace(year, "x", ""))) |>
  arrange(state, year)

hc_exp = 
  read_csv("./Data/healthcare_exp.csv") |>
  janitor::clean_names() |>
  select(geo_name, x2018:x2021) |>
  pivot_longer(
    x2018:x2021,
    names_to = "year",
    values_to = "value"
  ) |>
  rename(state = geo_name) |>
  mutate(year = as.numeric(str_replace(year, "x", ""))) |>
  arrange(state, year)

edu_level = 
  read_excel("./Data/edu_level.xlsx") |>
  janitor::clean_names() |>
  select(state, x2018:x2021) |>
  pivot_longer(
    x2018:x2021,
    names_to = "year",
    values_to = "value"
  ) |>
  mutate(year = as.numeric(str_replace(year, "x", ""))) |>
  arrange(state, year)


```










## Clinical Trials data
Clinical Trials data is directly downloaded from **clinicaltrials.gov** for Alzheimer's Disease.
```{r read data, include = FALSE}
CT_data = 
  read_csv("./Data/ClinicalTrials_raw_data.csv") |>
  janitor::clean_names() 
```
There are a total of```r nrow(CT_data)```` and ```r length(CT_data)``` variables. Variables and description is listed below:

*```r colnames(CT_data)[1]```: 

*```r colnames(CT_data)[2]```: 

*```r colnames(CT_data)[3]```: 

*```r colnames(CT_data)[4]```:

*```r colnames(CT_data)[5]```:

*```r colnames(CT_data)[6]```:

*```r colnames(CT_data)[7]```:

*```r colnames(CT_data)[8]```:

*```r colnames(CT_data)[9]```:

*```r colnames(CT_data)[10]```:

*```r colnames(CT_data)[11]```:

# should simplify variables later 
